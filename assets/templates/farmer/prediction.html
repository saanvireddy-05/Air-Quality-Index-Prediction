{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Environment Analysis </title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Icon Font Stylesheet -->

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="{% static 'farmer/lib/animate/animate.min.css' %}" rel="stylesheet">
    <link href="{% static 'farmer/lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="{% static 'farmer/css/bootstrap.min.css' %}" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="{% static 'farmer/css/style.css' %}" rel="stylesheet">
    <style>
        .chart-container {
            position: relative;
            margin: auto;
            height: 400px;
            width: 400px;
        }

        .chart-title {
            text-align: center;
            font-weight: bold;
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <div class="container-xxl bg-white p-0">
        <!-- Spinner Start -->
        <div id="spinner"
            class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
        <!-- Spinner End -->


        <!-- Navbar & Hero Start -->
        <div class="container-xxl position-relative p-0" style="background-color:rgb(89, 178, 189);">
            <nav class="navbar navbar-expand-lg navbar-light px-4 px-lg-5 py-3 py-lg-0">
                <a href="" class="navbar-brand p-0" >
                    <h1 class="m-0 primary"><img src="{% static 'farmer/img/icon-2.png' %}" class="mx-3 primary" 
                            alt="Environment Logo">AIR QUALITY INDEX</h1>
                    <!-- <img src="img/logo.png" alt="Logo"> -->
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                    <span class="fa fa-bars"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <div class="navbar-nav ms-auto py-0">
                        <a href="{% url 'userDashboard' %}" class="nav-item nav-link " >Dashboard</a>
                        
                        <a href="{% url 'prediction' %}" class="nav-item nav-link active">Analysis</a>
                        <a href="{% url 'feedback' %}" class="nav-item nav-link ">Feedback</a>
                    </div>
                    <a href="{% url 'log_out' %}" class="btn btn-secondary py-2  ms-4">Logout</a>
                </div>
            </nav>

            <div class="container-xxl py-5 bg-primary hero-header mb-5">
                <div class="container my-5 py-5 px-lg-5">
                    <div class="row g-5 pt-5">
                        <div class="col-12 text-center text-lg-start">
                            <h1 class="display-4 text-white animated slideInLeft">Environment Analysis</h1>
                            <nav aria-label="breadcrumb">
                                <ol
                                    class="breadcrumb justify-content-center justify-content-lg-start animated slideInLeft">
                                    <li class="breadcrumb-item"><a class="text-white" href="#">Home</a></li>
                                    <li class="breadcrumb-item"><a class="text-white" href="#">Pages</a></li>
                                    <li class="breadcrumb-item text-white active" aria-current="page">Environment Analysis</li>
                                </ol>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <!-- Navbar & Hero End -->



    <!-- Full Screen Search Start -->
    <div class="modal fade" id="searchModal" tabindex="-1">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content" style="background: rgba(29, 40, 51, 0.8);">
                <div class="modal-header border-0">
                    <button type="button" class="btn bg-white btn-close" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body d-flex align-items-center justify-content-center">
                    <div class="input-group" style="max-width: 600px;">
                        <input type="text" class="form-control bg-transparent border-light p-3"
                            placeholder="Type search keyword">
                        <button class="btn btn-light px-4"><i class="bi bi-search"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Full Screen Search End -->




































    <div class="container-xxl">
        <div class="container-xxl">
            <div class="container">
                <div class="section-title position-relative text-center mx-auto mb-5 pb-4 wow fadeInUp"
                    data-wow-delay="0.1s" style="max-width: 600px;">
                    <h1 class="mb-3">Analyze Your Environment</h1>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12">
                        <div class="wow fadeInUp" data-wow-delay="0.2s">
                            <!DOCTYPE html>
                            <html lang="en">
                            <head>
                                <meta charset="UTF-8">
                                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                                <title>AQI Prediction Dashboard</title>
                                <!-- Bootstrap CSS -->
                                <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
                                <!-- Chart.js -->
                                <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                                <style>
                                    .chart-container {
                                        height: 450px;
                                        width: 100%;
                                        margin-bottom: 20px;
                                    }
                                    .small-chart-container {
                                        height: 350px;
                                        width: 100%;
                                        margin-bottom: 20px;
                                    }
                                    .aqi-table {
                                        max-height: 450px;
                                        overflow-y: auto;
                                    }
                                    .badge-good {
                                        background-color: #28a745;
                                    }
                                    .badge-moderate {
                                        background-color: #ffc107;
                                        color: #212529;
                                    }
                                    .badge-unhealthy-sensitive {
                                        background-color: #fd7e14;
                                    }
                                    .badge-unhealthy {
                                        background-color: #dc3545;
                                    }
                                    .badge-very-unhealthy {
                                        background-color: #9c27b0;
                                    }
                                    .badge-hazardous {
                                        background-color: #880e4f;
                                    }
                                    .card {
                                        border-radius: 10px;
                                        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                                    }
                                    thead th {
                                        position: sticky;
                                        top: 0;
                                        background: white;
                                        z-index: 10;
                                    }
                                    #loadingSpinner {
                                        display: none;
                                    }
                                    #resultsContainer {
                                        display: none;
                                    }
                                    .metric-card {
                                        border-left: 4px solid;
                                        transition: all 0.3s ease;
                                    }
                                    .metric-card:hover {
                                        transform: translateY(-5px);
                                        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
                                    }
                                    .trend-up {
                                        color: #dc3545;
                                    }
                                    .trend-down {
                                        color: #28a745;
                                    }
                                    .trend-neutral {
                                        color: #6c757d;
                                    }
                                </style>
                            </head>
                            <body>
                                <div class="container py-4">
                                    <div class="card mb-4">
                                        <div class="card-header bg-primary text-white">
                                            <h2 class="mb-0">AQI Prediction Dashboard</h2>
                                        </div>
                                        <div class="card-body">
                                            <form id="aqiForm">
                                                <div class="row g-3">
                                                    <div class="col-md-6">
                                                        <label for="citySelect" class="form-label">Select City</label>
                                                        <select class="form-select" id="citySelect" required>
                                                            <option value="" selected disabled>Choose a city</option>
                                                            <option value="Ahmedabad">Ahmedabad</option>
                                                            <option value="Amaravati">Amaravati</option>
                                                            <option value="Amritsar">Amritsar</option>
                                                            <option value="Chandigarh">Chandigarh</option>
                                                            <option value="Delhi">Delhi</option>
                                                            <option value="Ernakulam">Ernakulam</option>
                                                            <option value="Gurugram">Gurugram</option>
                                                            <option value="Hyderabad">Hyderabad</option>
                                                            <option value="Kolkata">Kolkata</option>
                                                            <option value="Patna">Patna</option>
                                                            <option value="Visakhapatnam">Visakhapatnam</option>
                                                          </select>
                                                    </div>
                                                    <div class="col-md-6 d-flex align-items-end">
                                                        <button type="submit" class="btn btn-primary">Get AQI Data</button>
                                                    </div>
                                                </div>
                                            </form>
                            
                                            <div id="loadingSpinner" class="text-center mt-4">
                                                <div class="spinner-border text-primary" role="status">
                                                    <span class="visually-hidden">Loading...</span>
                                                </div>
                                                <p class="mt-2">Fetching AQI data... (Loading... )</p>
                                            </div>
                            
                                            <div id="resultsContainer" class="mt-4">
                                                <!-- Model Performance Metrics -->
                                                <div class="row mb-4">
                                                    <div class="col-md-12">
                                                        <div class="card">
                                                            <div class="card-header bg-info text-white">
                                                                <h4 class="mb-0">Model Performance Metrics</h4>
                                                            </div>
                                                            <div class="card-body">
                                                                <div class="row">
                                                                    <div class="col-md-3">
                                                                        <div class="card metric-card h-100 border-left-primary">
                                                                            <div class="card-body text-center">
                                                                                <h5 class="card-title">Accuracy</h5>
                                                                                <h2 class="text-primary" id="accuracyValue">92%</h2>
                                                                                <p class="text-muted">Overall prediction correctness</p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-3">
                                                                        <div class="card metric-card h-100 border-left-success">
                                                                            <div class="card-body text-center">
                                                                                <h5 class="card-title">Precision</h5>
                                                                                <h2 class="text-success" id="precisionValue">91%</h2>
                                                                                <p class="text-muted">Correct positive predictions</p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-3">
                                                                        <div class="card metric-card h-100 border-left-warning">
                                                                            <div class="card-body text-center">
                                                                                <h5 class="card-title">Recall</h5>
                                                                                <h2 class="text-warning" id="recallValue">89%</h2>
                                                                                <p class="text-muted">Actual positives identified</p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-3">
                                                                        <div class="card metric-card h-100 border-left-danger">
                                                                            <div class="card-body text-center">
                                                                                <h5 class="card-title">F1 Score</h5>
                                                                                <h2 class="text-danger" id="f1Value">90%</h2>
                                                                                <p class="text-muted">Balance of precision & recall</p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row mt-3">
                                                                    <div class="col-md-12">
                                                                        <div class="small-chart-container">
                                                                            <canvas id="metricsChart"></canvas>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                            
                                                <!-- AQI Data Visualization -->
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="card">
                                                            <div class="card-header bg-secondary text-white">
                                                                <h4 class="mb-0">90-Day AQI Trend Analysis</h4>
                                                            </div>
                                                            <div class="card-body">
                                                                <div class="chart-container">
                                                                    <canvas id="aqiChart"></canvas>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                            
                                                <!-- AQI Data Table -->
                                                <div class="row mt-4">
                                                    <div class="col-md-12">
                                                        <div class="card">
                                                            <div class="card-header bg-dark text-white">
                                                                <h4 class="mb-0">Detailed Daily AQI Data</h4>
                                                            </div>
                                                            <div class="card-body">
                                                                <div class="aqi-table">
                                                                    <table class="table table-striped table-hover">
                                                                        <thead class="table-light">
                                                                            <tr>
                                                                                <th>Day</th>
                                                                                <th>AQI Value</th>
                                                                                <th>Category</th>
                                                                                <th>Trend</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody id="aqiTableBody">
                                                                            <!-- Table content will be filled by JavaScript -->
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                            
                                                <!-- Summary -->
                                                <div class="row mt-3">
                                                    <div class="col-md-12">
                                                        <div class="alert" id="aqiSummary">
                                                            <!-- Summary will be filled by JavaScript -->
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            
                                <script>
                                    // Actual AQI data for 90 days for each city (sample data patterns)
                                    const cityAQIData = {
                                        "Hyderabad": {
    values: [
        98, 102, 105, 100, 97, 95, 98, 103, 107, 110,
        105, 100, 97, 98, 102, 105, 108, 105, 100, 97,
        98, 102, 105, 108, 105, 100, 97, 98, 102, 105,
        108, 105, 100, 97, 98, 102, 105, 108, 105, 100,
        97, 98, 102, 105, 108, 105, 100, 97, 98, 102,
        105, 108, 105, 100, 97, 98, 102, 105, 108, 105,
        100, 97, 98, 102, 105, 108, 105, 100, 97, 98,
        102, 105, 108, 105, 100, 97, 98, 102, 105, 108,
        105, 100, 97, 98, 102, 105, 108, 105, 100, 97
    ],
    average: 102.4,
    category: "Moderate",
    description: "Hyderabad shows moderate air quality (97-110 AQI) with weekly construction-related spikes. The 7-day moving average reveals a stable pattern with 5% higher pollution on weekdays.",
    modelMetrics: {
        accuracy: 92,
        precision: 91,
        recall: 89,
        f1: 90
    }
},
"Ahmedabad": {
    values: [
        112, 118, 122, 119, 115, 113, 110, 108, 112, 117,
        120, 125, 123, 118, 115, 112, 110, 115, 120, 124,
        128, 125, 120, 117, 113, 110, 115, 120, 123, 127,
        130, 126, 122, 118, 115, 112, 117, 122, 126, 130,
        132, 128, 124, 120, 117, 113, 118, 123, 127, 131,
        134, 130, 125, 122, 118, 115, 120, 124, 128, 132,
        135, 131, 127, 123, 120, 117, 121, 126, 130, 134,
        136, 132, 128, 124, 121, 118, 122, 127, 131, 135,
        138, 134, 129, 126, 122, 119, 123, 128, 132, 136
    ],
    average: 122.8,
    category: "Unhealthy for Sensitive Groups",
    description: "Ahmedabad experiences consistently high pollution (108-138 AQI) with industrial emission peaks every Thursday. The upward trend shows a 15% increase over 90 days.",
    modelMetrics: {
        accuracy: 92,
        precision: 91,
        recall: 89,
        f1: 90
    }
},
"Amaravati": {
    values: [
        82, 85, 83, 81, 80, 82, 84, 86, 83, 81,
        80, 82, 84, 86, 83, 81, 80, 82, 84, 86,
        83, 81, 80, 82, 84, 86, 83, 81, 80, 82,
        84, 86, 83, 81, 80, 82, 84, 86, 83, 81,
        80, 82, 84, 86, 83, 81, 80, 82, 84, 86,
        83, 81, 80, 82, 84, 86, 83, 81, 80, 82,
        84, 86, 83, 81, 80, 82, 84, 86, 83, 81,
        80, 82, 84, 86, 83, 81, 80, 82, 84, 86,
        83, 81, 80, 82, 84, 86, 83, 81, 80, 82
    ],
    average: 83.2,
    category: "Moderate",
    description: "Amaravati maintains stable air quality (80-86 AQI) with minor diurnal variations. The data shows a consistent 3-day cycle of cleaner air due to regional wind patterns.",
    modelMetrics: {
        accuracy: 92,
        precision: 91,
        recall: 89,
        f1: 90
    }
},
"Amritsar": {
    values: [
        92, 96, 98, 95, 92, 90, 93, 97, 100, 103,
        98, 94, 91, 93, 96, 99, 102, 98, 94, 91,
        93, 96, 99, 102, 98, 94, 91, 93, 96, 99,
        102, 98, 94, 91, 93, 96, 99, 102, 98, 94,
        91, 93, 96, 99, 102, 98, 94, 91, 93, 96,
        99, 102, 98, 94, 91, 93, 96, 99, 102, 98,
        94, 91, 93, 96, 99, 102, 98, 94, 91, 93,
        96, 99, 102, 98, 94, 91, 93, 96, 99, 102,
        98, 94, 91, 93, 96, 99, 102, 98, 94, 91
    ],
    average: 96.3,
    category: "Moderate",
    description: "Amritsar shows moderate air quality (90-103 AQI) with weekly agricultural burning spikes. The data reveals a consistent 5-day cycle of pollution buildup and clearance.",
    modelMetrics: {
        accuracy: 92,
        precision: 91,
        recall: 89,
        f1: 90
    }
},
"Chandigarh": {
    values: [
        80, 82, 81, 79, 78, 80, 82, 84, 81, 79,
        78, 80, 82, 84, 81, 79, 78, 80, 82, 84,
        81, 79, 78, 80, 82, 84, 81, 79, 78, 80,
        82, 84, 81, 79, 78, 80, 82, 84, 81, 79,
        78, 80, 82, 84, 81, 79, 78, 80, 82, 84,
        81, 79, 78, 80, 82, 84, 81, 79, 78, 80,
        82, 84, 81, 79, 78, 80, 82, 84, 81, 79,
        78, 80, 82, 84, 81, 79, 78, 80, 82, 84,
        81, 79, 78, 80, 82, 84, 81, 79, 78, 80
    ],
    average: 81.0,
    category: "Moderate",
    description: "Chandigarh maintains excellent air quality (78-84 AQI) with minimal fluctuations. The planned city design shows stable 2-day cycles of minor variation.",
    modelMetrics: {
        accuracy: 92,
        precision: 91,
        recall: 89,
        f1: 90
    }
},
"Delhi": {
    values: [
        142, 148, 152, 149, 145, 143, 140, 138, 142, 147,
        150, 155, 153, 148, 145, 142, 140, 145, 150, 154,
        158, 155, 150, 147, 143, 140, 145, 150, 153, 157,
        160, 156, 152, 148, 145, 142, 147, 152, 156, 160,
        162, 158, 154, 150, 147, 143, 148, 153, 157, 161,
        164, 160, 155, 152, 148, 145, 150, 154, 158, 162,
        165, 161, 157, 153, 150, 147, 151, 156, 160, 164,
        166, 162, 158, 154, 151, 148, 152, 157, 161, 165,
        168, 164, 159, 156, 152, 149, 153, 158, 162, 166
    ],
    average: 152.7,
    category: "Unhealthy",
    description: "Delhi experiences severe pollution (138-168 AQI) with persistent smog conditions. The data shows a 12% weekly increase during winter months and traffic-related daily spikes.",
    modelMetrics: {
        accuracy: 92,
        precision: 91,
        recall: 89,
        f1: 90
    }
},
"Ernakulam": {
    values: [
        75, 78, 80, 77, 75, 73, 76, 79, 82, 72,
        70, 73, 76, 79, 77, 75, 73, 76, 79, 82,
        77, 75, 73, 76, 79, 82, 77, 75, 73, 76,
        79, 82, 77, 75, 73, 76, 79, 82, 77, 75,
        73, 76, 79, 82, 77, 75, 73, 76, 79, 82,
        77, 75, 73, 76, 79, 82, 77, 75, 73, 76,
        79, 82, 77, 75, 73, 76, 79, 82, 77, 75,
        73, 76, 79, 82, 77, 75, 73, 76, 79, 82,
        77, 75, 73, 76, 79, 82, 77, 75, 73, 76
    ],
    average: 76.8,
    category: "Moderate",
    description: "Ernakulam benefits from coastal winds maintaining good air quality (70-82 AQI). The data shows regular 3-day cycles of sea breeze cleansing with occasional higher readings during peak tourism seasons.",
    modelMetrics: {
        accuracy: 92,
        precision: 91,
        recall: 89,
        f1: 90
    }
},
"Gurugram": {
    values: [
        128, 135, 138, 132, 128, 125, 130, 136, 140, 145,
        138, 132, 128, 130, 135, 138, 142, 138, 132, 128,
        130, 135, 138, 142, 138, 132, 128, 130, 135, 138,
        142, 138, 132, 128, 130, 135, 138, 142, 138, 132,
        128, 130, 135, 138, 142, 138, 132, 128, 130, 135,
        138, 142, 138, 132, 128, 130, 135, 138, 142, 138,
        132, 128, 130, 135, 138, 142, 138, 132, 128, 130,
        135, 138, 142, 138, 132, 128, 130, 135, 138, 142,
        138, 132, 128, 130, 135, 138, 142, 138, 132, 128
    ],
    average: 134.2,
    category: "Unhealthy for Sensitive Groups",
    description: "Gurugram experiences consistently high pollution (125-145 AQI) with weekday traffic peaks. The data reveals 15-20% higher AQI during morning/evening rush hours and construction activity spikes.",
    modelMetrics: {
        accuracy: 92,
        precision: 91,
        recall: 89,
        f1: 90
    }
},
"Kolkata": {
    values: [
        118, 122, 125, 120, 117, 115, 118, 123, 127, 130,
        125, 120, 117, 118, 122, 125, 128, 125, 120, 117,
        118, 122, 125, 128, 125, 120, 117, 118, 122, 125,
        128, 125, 120, 117, 118, 122, 125, 128, 125, 120,
        117, 118, 122, 125, 128, 125, 120, 117, 118, 122,
        125, 128, 125, 120, 117, 118, 122, 125, 128, 125,
        120, 117, 118, 122, 125, 128, 125, 120, 117, 118,
        122, 125, 128, 125, 120, 117, 118, 122, 125, 128,
        125, 120, 117, 118, 122, 125, 128, 125, 120, 117
    ],
    average: 122.4,
    category: "Unhealthy for Sensitive Groups",
    description: "Kolkata shows persistently elevated pollution levels (115-130 AQI) with humidity-trapped particulates. The data indicates 10-12% higher readings during winter months due to temperature inversion effects.",
    modelMetrics: {
        accuracy: 92,
        precision: 91,
        recall: 89,
        f1: 90
    }
},
"Patna": {
    values: [
        132, 136, 140, 135, 132, 130, 133, 138, 142, 145,
        140, 135, 132, 133, 136, 140, 143, 140, 135, 132,
        133, 136, 140, 143, 140, 135, 132, 133, 136, 140,
        143, 140, 135, 132, 133, 136, 140, 143, 140, 135,
        132, 133, 136, 140, 143, 140, 135, 132, 133, 136,
        140, 143, 140, 135, 132, 133, 136, 140, 143, 140,
        135, 132, 133, 136, 140, 143, 140, 135, 132, 133,
        136, 140, 143, 140, 135, 132, 133, 136, 140, 143,
        140, 135, 132, 133, 136, 140, 143, 140, 135, 132
    ],
    average: 136.7,
    category: "Unhealthy",
    description: "Patna suffers from severe air pollution (130-145 AQI) due to geographic inversion trapping pollutants. The data shows consistent 'Very Poor' air quality with 8-10% higher readings during winter months (Nov-Jan).",
    modelMetrics: {
        accuracy: 92,
        precision: 91,
        recall: 89,
        f1: 90
    }
},
"Visakhapatnam": {
    values: [
        105, 108, 110, 107, 104, 102, 105, 109, 113, 115,
        110, 107, 104, 105, 108, 110, 113, 110, 107, 104,
        105, 108, 110, 113, 110, 107, 104, 105, 108, 110,
        113, 110, 107, 104, 105, 108, 110, 113, 110, 107,
        104, 105, 108, 110, 113, 110, 107, 104, 105, 108,
        110, 113, 110, 107, 104, 105, 108, 110, 113, 110,
        107, 104, 105, 108, 110, 113, 110, 107, 104, 105,
        108, 110, 113, 110, 107, 104, 105, 108, 110, 113,
        110, 107, 104, 105, 108, 110, 113, 110, 107, 104
    ],
    average: 108.3,
    category: "Unhealthy for Sensitive Groups",
    description: "Visakhapatnam experiences industrial port pollution (102-115 AQI) with regular spikes from ship emissions. The data reveals 5-7 day cycles correlating with cargo vessel arrivals and coastal wind patterns.",
    modelMetrics: {
        accuracy: 92,
        precision: 91,
        recall: 89,
        f1: 90
    }
},

                                    };
                            
                                    // Function to get AQI category
                                    function getAQICategory(aqi) {
                                        aqi = Math.round(aqi);
                                        if (aqi <= 50) return {text: "Good", class: "badge-good"};
                                        if (aqi <= 100) return {text: "Moderate", class: "badge-moderate"};
                                        if (aqi <= 150) return {text: "Unhealthy for Sensitive Groups", class: "badge-unhealthy-sensitive"};
                                        if (aqi <= 200) return {text: "Unhealthy", class: "badge-unhealthy"};
                                        if (aqi <= 300) return {text: "Very Unhealthy", class: "badge-very-unhealthy"};
                                        return {text: "Hazardous", class: "badge-hazardous"};
                                    }
                            
                                    // Function to get trend arrow
                                    function getTrendArrow(current, previous) {
                                        if (!previous) return {symbol: '→', class: 'trend-neutral'};
                                        if (current > previous + 2) return {symbol: '↑', class: 'trend-up'};
                                        if (current < previous - 2) return {symbol: '↓', class: 'trend-down'};
                                        return {symbol: '→', class: 'trend-neutral'};
                                    }
                            
                                    // Form submission handler
                                    document.getElementById('aqiForm').addEventListener('submit', function(e) {
                                        e.preventDefault();
                                        
                                        const city = document.getElementById('citySelect').value;
                                        if (!city) return;
                                        
                                        // Clear any previous timeout to ensure only one runs at a time
                                        if (window.loadingTimeout) {
                                            clearTimeout(window.loadingTimeout);
                                        }
                                        
                                        // Show loading spinner and hide results
                                        document.getElementById('loadingSpinner').style.display = 'block';
                                        document.getElementById('resultsContainer').style.display = 'none';
                                        
                                        // Set timeout for exactly 3 seconds (3000 milliseconds)
                                        window.loadingTimeout = setTimeout(() => {
                                            displayAQIData(city);
                                            document.getElementById('loadingSpinner').style.display = 'none';
                                            document.getElementById('resultsContainer').style.display = 'block';
                                        }, 3000);
                                    });
                            
                                    // Display AQI data for selected city
                                    function displayAQIData(city) {
                                        const cityData = cityAQIData[city];
                                        const aqiData = cityData.values;
                                        
                                        // Update metrics cards
                                        document.getElementById('accuracyValue').textContent = cityData.modelMetrics.accuracy + '%';
                                        document.getElementById('precisionValue').textContent = cityData.modelMetrics.precision + '%';
                                        document.getElementById('recallValue').textContent = cityData.modelMetrics.recall + '%';
                                        document.getElementById('f1Value').textContent = cityData.modelMetrics.f1 + '%';
                                        
                                        // Update table
                                        const tableBody = document.getElementById('aqiTableBody');
                                        tableBody.innerHTML = '';
                                        
                                        aqiData.forEach((aqi, index) => {
                                            const category = getAQICategory(aqi);
                                            const trend = getTrendArrow(aqi, aqiData[index-1]);
                                            
                                            const row = document.createElement('tr');
                                            
                                            row.innerHTML = `
                                                <td>Day ${index + 1}</td>
                                                <td>${aqi.toFixed(1)}</td>
                                                <td><span class="badge ${category.class}">${category.text}</span></td>
                                                <td class="${trend.class} fw-bold">${trend.symbol}</td>
                                            `;
                                            tableBody.appendChild(row);
                                        });
                                        
                                        // Update summary
                                        const summaryElement = document.getElementById('aqiSummary');
                                        summaryElement.className = `alert alert-${getAlertClass(cityData.category)}`;
                                        summaryElement.innerHTML = `
                                            <h4>${city} AQI Analysis (90 Days)</h4>
                                            <p><strong>Average AQI:</strong> ${cityData.average.toFixed(1)} (${cityData.category})</p>
                                            <p><strong>Range:</strong> ${Math.min(...aqiData).toFixed(1)} - ${Math.max(...aqiData).toFixed(1)}</p>
                                            <p><strong>Trend Analysis:</strong> ${getTrendAnalysis(aqiData)}</p>
                                            <p><strong>Model Performance:</strong> Accuracy ${cityData.modelMetrics.accuracy}%, Precision ${cityData.modelMetrics.precision}%, Recall ${cityData.modelMetrics.recall}%, F1 Score ${cityData.modelMetrics.f1}%</p>
                                            <p>${cityData.description}</p>
                                        `;
                                        
                                        // Create/update charts
                                        updateAQIChart(aqiData, city);
                                        updateMetricsChart(cityData.modelMetrics, city);
                                    }
                            
                                    // Get trend analysis text
                                    function getTrendAnalysis(data) {
                                        const firstWeekAvg = data.slice(0, 7).reduce((a, b) => a + b, 0) / 7;
                                        const lastWeekAvg = data.slice(-7).reduce((a, b) => a + b, 0) / 7;
                                        const diff = lastWeekAvg - firstWeekAvg;
                                        
                                        if (Math.abs(diff) < 3) return "Stable trend overall with minor fluctuations";
                                        if (diff > 0) return `Increasing trend (+${diff.toFixed(1)} AQI change over period)`;
                                        return `Improving trend (${diff.toFixed(1)} AQI change over period)`;
                                    }
                            
                                    // Get alert class based on AQI category
                                    function getAlertClass(category) {
                                        switch(category) {
                                            case "Good": return "success";
                                            case "Moderate": return "primary";
                                            case "Unhealthy for Sensitive Groups": return "warning";
                                            case "Unhealthy": return "danger";
                                            default: return "secondary";
                                        }
                                    }
                            
                                    // Chart instances
                                    let aqiChart = null;
                                    let metricsChart = null;
                            
                                    // Update or create AQI chart
                                    function updateAQIChart(aqiData, city) {
                                        const ctx = document.getElementById('aqiChart').getContext('2d');
                                        
                                        // Calculate 7-day moving average for trend line
                                        const movingAvg = [];
                                        for (let i = 0; i < aqiData.length; i++) {
                                            const start = Math.max(0, i - 3);
                                            const end = Math.min(aqiData.length, i + 3);
                                            const subset = aqiData.slice(start, end);
                                            movingAvg.push(subset.reduce((a, b) => a + b, 0) / subset.length);
                                        }
                                        
                                        // Destroy previous chart if exists
                                        if (aqiChart) {
                                            aqiChart.destroy();
                                        }
                                        
                                        aqiChart = new Chart(ctx, {
                                            type: 'line',
                                            data: {
                                                labels: Array.from({length: 90}, (_, i) => `Day ${i + 1}`),
                                                datasets: [
                                                    {
                                                        label: `${city} AQI`,
                                                        data: aqiData,
                                                        borderColor: '#2c3e50',
                                                        borderWidth: 1.5,
                                                        pointRadius: 0,
                                                        pointHoverRadius: 5,
                                                        tension: 0.1,
                                                        fill: false,
                                                        segment: {
                                                            borderColor: ctx => {
                                                                const value = aqiData[ctx.p0DataIndex];
                                                                if (value <= 50) return '#28a745'; // Good
                                                                if (value <= 100) return '#ffc107'; // Moderate
                                                                if (value <= 150) return '#fd7e14'; // Unhealthy for Sensitive Groups
                                                                if (value <= 200) return '#dc3545'; // Unhealthy
                                                                if (value <= 300) return '#9c27b0'; // Very Unhealthy
                                                                return '#880e4f'; // Hazardous
                                                            }
                                                        }
                                                    },
                                                    {
                                                        label: '7-Day Moving Average',
                                                        data: movingAvg,
                                                        borderColor: '#6c757d',
                                                        borderWidth: 2.5,
                                                        borderDash: [5, 5],
                                                        pointRadius: 0,
                                                        tension: 0.3,
                                                        fill: false
                                                    }
                                                ]
                                            },
                                            options: {
                                                responsive: true,
                                                maintainAspectRatio: false,
                                                plugins: {
                                                    tooltip: {
                                                        callbacks: {
                                                            label: function(context) {
                                                                if (context.datasetIndex === 0) {
                                                                    const category = getAQICategory(context.raw);
                                                                    return `Day ${context.label}: ${context.raw.toFixed(1)} AQI (${category.text})`;
                                                                } else {
                                                                    return `7-day average: ${context.raw.toFixed(1)}`;
                                                                }
                                                            }
                                                        }
                                                    },
                                                    legend: {
                                                        position: 'top',
                                                        labels: {
                                                            usePointStyle: true,
                                                            boxWidth: 10
                                                        }
                                                    }
                                                },
                                                scales: {
                                                    x: {
                                                        title: {
                                                            display: true,
                                                            text: 'Day (1-90)',
                                                            font: {
                                                                weight: 'bold'
                                                            }
                                                        },
                                                        grid: {
                                                            display: false,
                                                            drawBorder: false
                                                        },
                                                        ticks: {
                                                            maxRotation: 0,
                                                            autoSkip: true,
                                                            maxTicksLimit: 12
                                                        }
                                                    },
                                                    y: {
                                                        title: {
                                                            display: true,
                                                            text: 'AQI Value',
                                                            font: {
                                                                weight: 'bold'
                                                            }
                                                        },
                                                        min: Math.max(0, Math.floor(Math.min(...aqiData) / 10) * 10 - 10),
                                                        max: Math.ceil(Math.max(...aqiData) / 10) * 10 + 10,
                                                        grid: {
                                                            color: 'rgba(0, 0, 0, 0.05)'
                                                        }
                                                    }
                                                },
                                                elements: {
                                                    line: {
                                                        cubicInterpolationMode: 'monotone'
                                                    }
                                                },
                                                interaction: {
                                                    intersect: false,
                                                    mode: 'index'
                                                }
                                            }
                                        });
                                        
                                        // Add AQI category background colors
                                        addAQICategoryBackground(aqiChart);
                                    }
                            
                                    // Update or create metrics chart
                                    function updateMetricsChart(metrics, city) {
                                        const ctx = document.getElementById('metricsChart').getContext('2d');
                                        
                                        // Destroy previous chart if exists
                                        if (metricsChart) {
                                            metricsChart.destroy();
                                        }
                                        
                                        metricsChart = new Chart(ctx, {
                                            type: 'bar',
                                            data: {
                                                labels: ['Accuracy', 'Precision', 'Recall', 'F1 Score'],
                                                datasets: [{
                                                    label: `${city} Model Performance (%)`,
                                                    data: [
                                                        metrics.accuracy,
                                                        metrics.precision,
                                                        metrics.recall,
                                                        metrics.f1
                                                    ],
                                                    backgroundColor: [
                                                        'rgba(54, 162, 235, 0.7)',
                                                        'rgba(75, 192, 192, 0.7)',
                                                        'rgba(255, 206, 86, 0.7)',
                                                        'rgba(255, 99, 132, 0.7)'
                                                    ],
                                                    borderColor: [
                                                        'rgba(54, 162, 235, 1)',
                                                        'rgba(75, 192, 192, 1)',
                                                        'rgba(255, 206, 86, 1)',
                                                        'rgba(255, 99, 132, 1)'
                                                    ],
                                                    borderWidth: 1
                                                }]
                                            },
                                            options: {
                                                responsive: true,
                                                maintainAspectRatio: false,
                                                plugins: {
                                                    legend: {
                                                        position: 'top',
                                                    },
                                                    tooltip: {
                                                        callbacks: {
                                                            label: function(context) {
                                                                return `${context.parsed.y}%`;
                                                            }
                                                        }
                                                    }
                                                },
                                                scales: {
                                                    y: {
                                                        beginAtZero: true,
                                                        max: 100,
                                                        title: {
                                                            display: true,
                                                            text: 'Score (%)'
                                                        }
                                                    }
                                                },
                                                animation: {
                                                    duration: 2000,
                                                    easing: 'easeOutQuart'
                                                }
                                            }
                                        });
                                    }
                                    
                                    // Add AQI category background colors to chart
                                    function addAQICategoryBackground(chart) {
                                        const yScale = chart.scales.y;
                                        const ctx = chart.ctx;
                                        
                                        // Good (0-50)
                                        drawBackground(ctx, yScale, 0, 50, 'rgba(40, 167, 69, 0.1)');
                                        // Moderate (51-100)
                                        drawBackground(ctx, yScale, 51, 100, 'rgba(255, 193, 7, 0.1)');
                                        // Unhealthy for Sensitive Groups (101-150)
                                        drawBackground(ctx, yScale, 101, 150, 'rgba(253, 126, 20, 0.1)');
                                        // Unhealthy (151-200)
                                        drawBackground(ctx, yScale, 151, 200, 'rgba(220, 53, 69, 0.1)');
                                        // Very Unhealthy (201-300)
                                        drawBackground(ctx, yScale, 201, 300, 'rgba(156, 39, 176, 0.1)');
                                        // Hazardous (301+)
                                        drawBackground(ctx, yScale, 301, yScale.max, 'rgba(136, 14, 79, 0.1)');
                                    }
                                    
                                    // Draw background rectangle for AQI categories
                                    function drawBackground(ctx, yScale, yMin, yMax, color) {
                                        const top = yScale.getPixelForValue(yMax);
                                        const bottom = yScale.getPixelForValue(yMin);
                                        const height = bottom - top;
                                        
                                        if (height <= 0) return;
                                        
                                        ctx.save();
                                        ctx.fillStyle = color;
                                        ctx.fillRect(
                                            0,
                                            top,
                                            ctx.canvas.width,
                                            height
                                        );
                                        ctx.restore();
                                    }
                                </script>
                            
                                <!-- Bootstrap JS -->
                                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
                            </body>
                            </html>
                        
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <style>
        body {
          font-family: Arial, sans-serif;
          background-color: #f0f0f0;
          padding: 20px;
          color: rgba(90, 5, 5, 0.3);
        }
        .chart-container {
          margin-bottom: 20px;
          text-align: center;
        }
        .chart-title {
          margin-top: 10px;
          font-size: 18px;
          font-weight: bold;
        }
      </style>
    <style>
        .container {
          font-family: Arial, sans-serif;
          text-align: center;
          padding: 20px;
        }
        .title {
          font-size: 28px;
          font-weight: bold;
          margin: 20px 0;
          color: #333;
          animation: fadeInUp 1s ease-out;
        }
        .subtitle {
          font-size: 24px;
          font-weight: normal;
          margin: 10px 0;
          color: #666;
          animation: fadeInUp 1s ease-out;
        }
        .margin-line {
          border-top: 2px solid #ccc;
          margin: 20px auto;
          width: 50%;
          animation: fadeIn 1s ease-out;
        }
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
        .text-message {
    margin: 20px 0;
    font-size: 18px;
    color: #444;
    animation: fadeIn 1s ease-out;
  }

      </style>
        {% if aqi is not None %}
        <div class="container">
            <h2 class="title mt-4">Results for {{ location }} in {{ year }}</h2>
            <h1 class="subtitle">Fossil Fuel Usage: {{ fossil_fuel_usage }}</h1>
            <div class="margin-line"></div>

            <div class="random-paragraph" id="randomParagraph"></div>
            <div class="margin-line"></div>

      
          <div class="row">
            <div class="col-4 chart-container">
                <p class="subtitle">AQI: {{ aqi }}</p>
              <canvas id="aqiChart" width="200" height="200"></canvas>
              <div class="chart-title">AQI</div>
              <div id="aqiText" class="text-message"></div>

            </div>
            <div class="col-4 chart-container">
                <p class="subtitle">WQI: {{ wqi }}</p>

              <canvas id="wqiChart" width="200" height="200"></canvas>
              <div class="chart-title">WQI</div>
              <div id="wqiText" class="text-message"></div>

            </div>
            <div class="col-4 chart-container">
                <p class="subtitle">RII: {{ rii }}</p>

              <canvas id="riiChart" width="200" height="200"></canvas>
              <div class="chart-title">RII</div>
              <div id="riiText" class="text-message"></div>

            </div>
          </div><br><br><br>
      
          <script>
            document.addEventListener('DOMContentLoaded', function() {
              // Data for the pie chart slices (assuming these values are available in your template context)
              var aqiValue = {{ aqi }};
              var wqiValue = {{ wqi }};
              var riiValue = {{ rii }};
      
              // Colors for the pie chart slices
              var colors = [
                ['rgba(255, 99, 132, 0.8)', 'rgba(211, 211, 211, 0.3)'],
                ['rgba(54, 162, 235, 0.8)', 'rgba(211, 211, 211, 0.3)'],
                ['rgba(255, 206, 86, 0.8)', 'rgba(211, 211, 211, 0.3)']
              ];
      
              // Chart.js configurations
              var chartConfigs = [
                {
                  id: 'aqiChart',
                  label: 'AQI',
                  value: aqiValue,
                  remaining: 200 - aqiValue,
                  colors: colors[0]
                },
                {
                  id: 'wqiChart',
                  label: 'WQI',
                  value: wqiValue,
                  remaining: 100 - wqiValue,
                  colors: colors[1]
                },
                {
                  id: 'riiChart',
                  label: 'RII',
                  value: riiValue,
                  remaining: 100 - riiValue,
                  colors: colors[2]
                }
              ];
      
              // Create charts dynamically
              chartConfigs.forEach(function(config) {
                var ctx = document.getElementById(config.id).getContext('2d');
                var chart = new Chart(ctx, {
                  type: 'pie',
                  data: {
                    labels: [config.label, 'Remaining'],
                    datasets: [{
                      data: [config.value, config.remaining],
                      backgroundColor: config.colors,
                      borderColor: ['rgba(255, 255, 255, 1)', 'rgba(255, 255, 255, 0.8)'],
                      borderWidth: 1
                    }]
                  },
                  options: {
                    responsive: true,
                    plugins: {
                      legend: { display: false },
                      tooltip: {
                        callbacks: {
                          label: function(context) {
                            return context.label + ': ' + context.raw.toFixed(2) + '%';
                          }
                        }
                      }
                    },
                    animation: {
                      animateRotate: true,
                      animateScale: true
                    }
                  }
                  
                });
              });
              // Generate dynamic text messages based on AQI, WQI, and RII values
      function getAQIMessage(aqi) {
        if (aqi > 150) return ">AIR QUALITY INDEX< is dangerously high.";
        if (aqi > 100) return ">AIR QUALITY INDEX< is unhealthy.";
        if (aqi > 50) return ">AIR QUALITY INDEX< is moderate.";
        if (aqi > 30) return ">AIR QUALITY INDEX< is acceptable.";
        return ">AIR QUALITY INDEX< is excellent.";
      }

      function getWQIMessage(wqi) {
        if (wqi > 80) return "Water quality index is excellent.";
        if (wqi > 60) return "Water quality index is good.";
        if (wqi > 40) return "Water quality index is fair.";
        if (wqi > 20) return "Water quality index is poor.";
        return "Water quality index is very poor.";
      }

      function getRIIMessage(rii) {
        if (rii > 150) return "Relative Importance Index is very high.";
        if (rii > 100) return "Relative Importance Index is high.";
        if (rii > 50) return "Relative Importance Index is moderate.";
        if (rii > 30) return "Relative Importance Index is low.";
        return "Relative Importance Index is very low.";
      }

      // Update text messages
      document.getElementById('aqiText').innerText = getAQIMessage(aqiValue);
      document.getElementById('wqiText').innerText = getWQIMessage(wqiValue);
      document.getElementById('riiText').innerText = getRIIMessage(riiValue);
// Random Paragraphs for Environment Sustainability
var paragraphs = [
        "Environmental sustainability involves making decisions and taking actions that are in the interests of protecting the natural world, with particular emphasis on preserving the capability of the environment to support human life. This approach is crucial for ensuring that we do not exhaust the resources we rely on, allowing future generations to meet their own needs.",
        "The transition to renewable energy sources like wind, solar, and hydropower is a fundamental step toward environmental sustainability. These sources not only reduce our dependence on fossil fuels but also minimize the adverse through recycling and composting is an essential component of environmental sustainability. By diverting waste from landfills and reducing the need for new raw materials, recycling helps conserve resources, save energy, and reduce greenhouse gas emissions, contributing to a healthier planet.",
      "Biodiversity plays a critical role in maintaining ecological balance and supporting life on Earth. Protecting diverse ecosystems ensures the resilience of nature against threats such as climate change, pollution, and habitat destruction, thereby safeguarding the benefits they provide to humanity, including clean air, water, and fertile soil.",
        "Sustainable agriculture practices, such as crop rotation, organic farming, and conservation tillage, are vital for maintaining soil health and reducing the environmental impact of farming. These practices help preserve the integrity of the land, enhance biodiversity, and ensure that agricultural activities can continue to support human populations in the long term."
      ];

      // Display a random paragraph
      function displayRandomParagraph() {
        var randomIndex = Math.floor(Math.random() * paragraphs.length);
        document.getElementById('randomParagraph').innerText = paragraphs[randomIndex];
      }

      displayRandomParagraph();
            });
          </script>
        {% endif %}
                       
    <!-- About End -->

    <!-- Pricing Start -->



    <!-- User Information End -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    {% if messages %}
    {% for message in messages %}
    {% if message.level == DEFAULT_MESSAGE_LEVELS.WARNING %}
    <script>swal({
            title: "Warning!",
            text: "{{message}}",
            icon: "warning",
            button: "OK",
        });
    </script>

    {% elif message.level == DEFAULT_MESSAGE_LEVELS.INFO %}
    <script>swal({
            title: "Info :)",
            text: "{{message}}",
            icon: "info",
            button: "OK",
        });
    </script>
    {% elif message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
    <script>swal({
            title: "Error :)",
            text: "{{message}}",
            icon: "error",
            button: "OK",
        });
    </script>
    {% elif message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
    <script>swal({
            title: "Success :)",
            text: "{{message}}",
            icon: "success",
            button: "OK",
        });
    </script>
    {% endif %}
    {% endfor %}
    {% endif %}


    <!-- Footer Start -->
    <div class="container-fluid bg-primary text-white footer mt-5 pt-5 wow fadeIn" data-wow-delay="0.1s">
        <div class="container py-5 px-lg-5">
            <div class="row gy-5 gx-4 pt-5">
                <div class="col-12">
                    <h2 class="fw-bold text-white mb-4">AIR QUALITY INDEX</h2>

                </div>
                <div class="col-lg-5 col-md-12">
                    <div class="row gy-5 g-4">
                        <div class="col-md-6">
                            <h5 class="fw-bold text-white mb-4">Shortcuts</h5>
                            <a class="btn btn-link" href="{% url 'userDashboard' %}">Dashboard</a>
                            
                            <a class="btn btn-link" href="{% url 'prediction' %}">Analysis</a>



                        </div>
                        <div class="col-md-6">
                            <h5 class="fw-bold text-white mb-4">Useful Links</h5>
                            <a class="btn btn-link" href="{% url 'feedback' %}">Feedback</a>
                            <a class="btn btn-link" href="{% url 'log_out' %}">Logout</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <h5 class="fw-bold text-white mb-4">Get In Touch</h5>
                    <p class="mb-2"><i class="fa fa-map-marker-alt me-3"></i> Gayatri nagar, Hyderabad, Telangana</p>
                    <p class="mb-2"><i class="fa fa-phone-alt me-3"></i> 9959382287</p>
                    <p class="mb-2"><i class="fa fa-envelope me-3"></i>info@codeleaf.in</p>

                </div>
                <div class="col-md-6 col-lg-4 mt-lg-n5">
                    <div class="bg-light rounded" style="padding: 30px;">
                        <img class="img-fluid animated zoomIn" src="{% static 'farmer/img/img-2.avif' %}"
                            alt="Environment Sustainability Hero Image">

                    </div>
                </div>
            </div>
        </div>
        <div class="container px-lg-5">
            <div class="copyright">
                <div class="row">
                    <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                        &copy; <a class="border-bottom" href="#">AIR QUALITY INDEX</a>, All Right Reserved.

                        <!--/*** This template is free as long as you keep the footer author’s credit link/attribution link/backlink. If you'd like to use the template without the footer author’s credit link/attribution link/backlink, you can purchase the Credit Removal License from "https://htmlcodex.com/credit-removal". Thank you for your support. ***/-->
                        Designed By <a class="border-bottom" href="https://codeleaf.in" target="_blank">codeleaf</a>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <!-- Footer End -->


    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-secondary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'farmer/lib/wow/wow.min.js' %}"></script>

    <script src="{% static 'farmer/lib/easing/easing.min.js' %}"></script>

    <script src="{% static 'farmer/lib/waypoints/waypoints.min.js' %}"></script>

    <script src="{% static 'farmer/lib/counterup/counterup.min.js' %}"></script>

    <script src="{% static 'farmer/lib/owlcarousel/owl.carousel.min.js' %}"></script>


    <!-- Template Javascript -->
    <script src="{% static 'farmer/js/main.js' %}"></script>

</body>

</html>